<Window x:Class="RTSSHeadsetBatteryInfo.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:tb="clr-namespace:Hardcodet.Wpf.TaskbarNotification;assembly=Hardcodet.NotifyIcon.Wpf"
        Title="Headset Battery Overlay"
        Width="600"
        Height="300"
        Background="#1E1E1E"
        FontFamily="Segoe UI"
        FontSize="14"
        WindowStartupLocation="CenterScreen"
        ResizeMode="CanResize">

    <Grid Margin="15">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <Grid Grid.Row="0" Height="40" RenderTransformOrigin="0.5,0.5">
            <Grid.RenderTransform>
                <TransformGroup>
                    <ScaleTransform/>
                    <SkewTransform/>
                    <RotateTransform/>
                    <TranslateTransform X="0"/>
                </TransformGroup>
            </Grid.RenderTransform>
            <!-- Titre à gauche -->
            <TextBlock Text="Headset Battery Overlay"
               Foreground="White"
               FontSize="20"
               FontWeight="SemiBold"
               VerticalAlignment="Center"
               HorizontalAlignment="Left"/>

            <!-- Conteneur des boutons alignés à droite -->
            <StackPanel Orientation="Horizontal"
                HorizontalAlignment="Right"
                VerticalAlignment="Center"
                Margin="0,0,0,0" RenderTransformOrigin="0.5,0.5">
                <StackPanel.RenderTransform>
                    <TransformGroup>
                        <ScaleTransform/>
                        <SkewTransform/>
                        <RotateTransform/>
                        <TranslateTransform X="0"/>
                    </TransformGroup>
                </StackPanel.RenderTransform>
                <!-- Start Button -->

                <!-- Stop Button -->
                <!-- Start Button -->
                <Button x:Name="StartButton" Click="Start_Click"
                Width="75" Height="30"
                Cursor="Hand" Margin="0,0,4,0">
                    <Button.Template>
                        <ControlTemplate TargetType="{x:Type Button}">
                            <Border x:Name="bdr"
                            Background="#007ACC"
                            BorderBrush="#007ACC"
                            BorderThickness="1"
                            CornerRadius="4"
                            Padding="4,2">
                                <ContentPresenter HorizontalAlignment="Center"
                                          VerticalAlignment="Center"/>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter TargetName="bdr" Property="Background" Value="#005A9E"/>
                                    <Setter TargetName="bdr" Property="BorderBrush" Value="#005A9E"/>
                                </Trigger>
                                <Trigger Property="IsPressed" Value="True">
                                    <Setter TargetName="bdr" Property="Background" Value="#003F6B"/>
                                    <Setter TargetName="bdr" Property="BorderBrush" Value="#003F6B"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Button.Template>
                    <TextBlock Text="Start" Foreground="White" FontWeight="Bold"/>
                </Button>

                <!-- Stop Button -->
                <Button x:Name="StopButton" Click="Stop_Click"
                Width="75" Height="30"
                Cursor="Hand"
                RenderTransformOrigin="0.5,0.5">
                    <Button.RenderTransform>
                        <TransformGroup>
                            <ScaleTransform/>
                            <SkewTransform/>
                            <RotateTransform/>
                            <TranslateTransform X="0"/>
                        </TransformGroup>
                    </Button.RenderTransform>
                    <Button.Template>
                        <ControlTemplate TargetType="{x:Type Button}">
                            <Border x:Name="bdr"
                            Background="#E81123"
                            BorderBrush="#E81123"
                            BorderThickness="1"
                            CornerRadius="4"
                            Padding="4,2">
                                <ContentPresenter HorizontalAlignment="Center"
                                          VerticalAlignment="Center"/>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter TargetName="bdr" Property="Background" Value="#C50F1F"/>
                                    <Setter TargetName="bdr" Property="BorderBrush" Value="#C50F1F"/>
                                </Trigger>
                                <Trigger Property="IsPressed" Value="True">
                                    <Setter TargetName="bdr" Property="Background" Value="#93000A"/>
                                    <Setter TargetName="bdr" Property="BorderBrush" Value="#93000A"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Button.Template>
                    <TextBlock Text="Stop" Foreground="White" FontWeight="Bold"/>
                </Button>
            </StackPanel>
        </Grid>





        <!-- Log container -->
        <Border Grid.Row="1"
                Background="#2D2D30"
                CornerRadius="6"
                Padding="10">
            <ScrollViewer x:Name="LogScrollViewer" VerticalScrollBarVisibility="Auto">
                <StackPanel x:Name="LogPanel" />
            </ScrollViewer>
        </Border>

        <!-- Taskbar Icon -->
        <tb:TaskbarIcon x:Name="TrayIcon"
                        ToolTipText="Headset Battery Overlay"
                        TrayMouseDoubleClick="Tray_Open_Click"
                        IconSource="/Resources/app.ico" Margin="207,31,234,143" Grid.Row="1">
            <tb:TaskbarIcon.ContextMenu>
                <ContextMenu Background="#2D2D30" Foreground="White" BorderBrush="#444" BorderThickness="1">
                    <MenuItem Header="Show" Click="Tray_Open_Click"/>
                    <Separator/>
                    <MenuItem Header="Exit" Click="Tray_Exit_Click"/>
                </ContextMenu>
            </tb:TaskbarIcon.ContextMenu>
        </tb:TaskbarIcon>
    </Grid>
</Window>
